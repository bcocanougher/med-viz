<!DOCTYPE html>
<html>
  	<head>
    	<title>reading file</title>
    	<script type="text/javascript">
    		
    		function init() {
                // read json file with art information
                var xmlhttp = new XMLHttpRequest();
                var url = "body.json";

                xmlhttp.onreadystatechange = function() {
                    if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                        var myArr = JSON.parse(xmlhttp.responseText);
                        draw(myArr);
                    }
                }

                xmlhttp.open("GET", url, true);
                xmlhttp.send();
            }

            function draw(data) {

    			// set up canvas
    			var canvas = document.getElementById("canvas");
				var ctx = canvas.getContext("2d");

				// // line/fill properties
				ctx.fillStyle="rgb(255,255,255)";
				ctx.lineStyle="rgb(0,0,0)";
				ctx.lineWidth=1;

    			// draw line elements
    			dy = 575;
    			for (i=0; i<data[0].length; i++) {
    				d = data[0][i];
    				if (d.line) {
    					v = d.line;
    					ctx.moveTo(v[0], dy+v[1]);
    					ctx.lineTo(v[2], dy+v[3]);
    				}
    				else if (d.bezier) {
    					v = d.bezier;
    					ctx.moveTo(v[0], dy+v[1]);
    					ctx.bezierCurveTo(v[2], dy+v[3], v[4], dy+v[5], v[6], dy+v[7]);
    				}
    				else {
    					console.log('unknown');
    				}
    			}
    			ctx.stroke();
    			ctx.fill();
    		}

		</script>
	</head>

	<body onload='init();'>
        <canvas id="canvas" width="700" height="600"></canvas>
		<div id="main"></div>
	</body>
</html>